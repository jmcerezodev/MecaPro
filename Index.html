<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MecaPro - Aprende Mecanografía</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div class="container">
        <div class="stats-bar">
            <div class="stat-item">PPM: <span id="wpm">0</span></div>
            <div class="stat-item">RPM: <span id="kpm">0</span></div>
            <div class="stat-item">Errores: <span id="errors-display">0</span></div>
            <div class="stat-item">Precisión: <span id="precision">100</span>%</div>
            
            <div class="toggle-container">
                <span>Bloquear Borrar</span>
                <label class="switch">
                    <input type="checkbox" id="toggle-backspace" checked>
                    <span class="slider"></span>
                </label>
            </div>

            <button id="reset-btn">Reiniciar Prueba</button>
            <button id="help-btn" title="Cómo funciona">?</button>
        </div>

        <div id="text-display" class="text-display"></div>

        <div class="keyboard" id="keyboard">
            <div class="row">
                <div class="key" id="key-1"><div class="top">!</div><div class="bottom">1</div></div>
                <div class="key" id="key-2"><div class="top">"</div><div class="bottom">2</div></div>
                <div class="key" id="key-3"><div class="top">·</div><div class="bottom">3</div></div>
                <div class="key" id="key-4"><div class="top">$</div><div class="bottom">4</div></div>
                <div class="key" id="key-5"><div class="top">%</div><div class="bottom">5</div></div>
                <div class="key" id="key-6"><div class="top">&</div><div class="bottom">6</div></div>
                <div class="key" id="key-7"><div class="top">/</div><div class="bottom">7</div></div>
                <div class="key" id="key-8"><div class="top">(</div><div class="bottom">8</div></div>
                <div class="key" id="key-9"><div class="top">)</div><div class="bottom">9</div></div>
                <div class="key" id="key-0"><div class="top">=</div><div class="bottom">0</div></div>
                <div class="key" id="key-question-open"><div class="top">?</div><div class="bottom">'</div></div>
                <div class="key" id="key-exclamation-open"><div class="top">¿</div><div class="bottom">¡</div></div>
            </div>  
            <div class="row">
                <div class="key" id="key-q">Q</div>
                <div class="key" id="key-w">W</div>
                <div class="key" id="key-e">E</div>
                <div class="key" id="key-r">R</div>
                <div class="key" id="key-t">T</div>
                <div class="key" id="key-y">Y</div>
                <div class="key" id="key-u">U</div>
                <div class="key" id="key-i">I</div>
                <div class="key" id="key-o">O</div>
                <div class="key" id="key-p">P</div>
                <div class="key" id="key-tilde">´</div>
            </div>
            <div class="row">
                <div class="key" id="key-a">A</div>
                <div class="key" id="key-s">S</div>
                <div class="key" id="key-d">D</div>
                <div class="key" id="key-f">F</div>
                <div class="key" id="key-g">G</div>
                <div class="key" id="key-h">H</div>
                <div class="key" id="key-j">J</div>
                <div class="key" id="key-k">K</div>
                <div class="key" id="key-l">L</div>
                <div class="key" id="key-ñ">Ñ</div>
            </div>
            <div class="row">
                <div class="key shift-left" id="key-shift-left">Shift</div>
                <div class="key" id="key-z">Z</div>
                <div class="key" id="key-x">X</div>
                <div class="key" id="key-c">C</div>
                <div class="key" id="key-v">V</div>
                <div class="key" id="key-b">B</div>
                <div class="key" id="key-n">N</div>
                <div class="key" id="key-m">M</div>
                <div class="key" id="key-comma"><div class="top">;</div><div class="bottom">,</div></div>
                <div class="key" id="key-period"><div class="top">:</div><div class="bottom">.</div></div>
                <div class="key" id="key-dash"><div class="top">_</div><div class="bottom">-</div></div>
            </div>
            <div class="row">
                <div class="key space" id="key-space">Espacio</div>
            </div>
        </div>

        <div class="hands-container">
            <div class="hand left-hand" id="hand-left">
                <div class="finger f1" id="finger-1"><span>M</span></div>
                <div class="finger f2" id="finger-2"><span>A</span></div>
                <div class="finger f3" id="finger-3"><span>C</span></div>
                <div class="finger f4" id="finger-4"><span>I</span></div>
                <div class="finger f5" id="finger-5"><span>P</span></div>
            </div>
            <div class="hand right-hand" id="hand-right">
                <div class="finger f6" id="finger-6"><span>P</span></div>
                <div class="finger f7" id="finger-7"><span>I</span></div>
                <div class="finger f8" id="finger-8"><span>C</span></div>
                <div class="finger f9" id="finger-9"><span>A</span></div>
                <div class="finger f10" id="finger-10"><span>M</span></div>
            </div>
        </div>

        <input type="text" id="hidden-input" autofocus autocomplete="off">
    </div>

    <div id="result-modal" class="modal">
        <div class="modal-content">
            <h2>¡Sesión Completada!</h2>
            
            <div class="modal-results-container">
                <div class="result-row">
                    <span class="modal-label">Velocidad</span>
                    <span id="final-ppm" class="modal-value">0</span>
                </div>
                <div class="result-row">
                    <span class="modal-label">Ritmo (RPM)</span>
                    <span id="final-rpm" class="modal-value">0</span>
                </div>
                <div class="result-row">
                    <span class="modal-label">Precisión</span>
                    <span class="modal-value"><span id="final-precision">0</span>%</span>
                </div>

                <div class="modal-review-text" id="modal-review-display"></div>

                <div class="result-row">
                    <span class="modal-label">Errores Totales</span>
                    <span id="final-errors" class="modal-value">0</span>
                </div>
            </div>
            
            <button id="close-modal-btn" class="modal-btn-alt">Continuar entrenando</button>
        </div>
    </div>

    <div id="help-modal" class="modal">
        <div class="modal-content help-content">
            <h2>Cómo usar MecaPro</h2>
            <div class="help-grid">
                <div class="help-step">
                    <span class="step-num">1</span>
                    <p>Escribe el texto resaltado. La barra azul bajo la letra indica tu posición actual.</p>
                </div>
                <div class="help-step">
                    <span class="step-num">2</span>
                    <p>Mira las <strong>manos y el teclado</strong>: se iluminan para indicarte qué dedo usar.</p>
                </div>
                <div class="help-step">
                    <span class="step-num">3</span>
                    <p><strong>Guía de Dedos:</strong><br>
                       <strong>M</strong>: Meñique | <strong>A</strong>: Anular | <strong>C</strong>: Corazón<br>
                       <strong>I</strong>: Índice | <strong>P</strong>: Pulgar</p>
                </div>
                <div class="help-step">
                    <span class="step-num">4</span>
                    <p>Si activas <strong>"Bloquear Borrar"</strong>, no podrás usar Backspace. ¡Ideal para mejorar!</p>
                </div>
            </div>
            <button id="close-help-btn" class="modal-btn-alt">¡Entendido!</button>
        </div>
    </div>

    <script src="frases.js?v=1.4"></script>
    <script src="script.js?v=1.4"></script>
</body>
</html>